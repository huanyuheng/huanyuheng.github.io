

# 用 GitHub Pages + Jekyll 折腾一个好看一点的个人博客

这篇记录一下我今天把 `huanyuheng.github.io` 从默认样式，改成现在这个带侧边导航、卡片式文章列表、按钮风格「网址库」页面的过程。主要改了三处：

1. 配置文件 `_config.yml`
2. 自定义样式 `assets/css/style.scss`
3. 新建一个 `links.md` 页面并做成按钮样式的链接库

---

## 1. 配置：_config.yml

Jekyll 的站点配置都写在根目录的 `_config.yml` 里。
我最后用的是这样一份配置：

```yml
title: 幻欲恒
description: 学习 / 科研 / 工具 / 网址库
theme: minima

# 站点主地址（有自定义域名就写自己的域名）
url: "https://huanyuheng.com"

# 顶部导航要显示的页面（文件名要和仓库里的对应）
header_pages:
  - index.md    # 首页
  - links.md    # 网址库
  - about.md    # 关于
  - archive.md  # 归档

# 首页文章显示摘要
show_excerpts: true
```

一开始翻车的地方就是：
**把这些内容误写到了 `links.md` 里面**，导致：

* `links.md` 不再是一个页面，
* `/links/` 访问直接 404。

经验：

* **跟站点相关的配置都写在 `_config.yml`**；
* 单个页面的东西（标题、布局、永久链接）放在页面自己的 front-matter 里。

---

## 2. 自定义主题样式：style.scss

站点用了 `minima` 主题，然后在 `assets/css/style.scss` 里做「二次装修」。

文件头两行是 Jekyll 的前言区，接着引入主题默认样式，再覆盖自己的样式：

```scss
---
---

/* 先加载 minima 主题的默认样式 */
@import "minima";
```

完整的 `style.scss` 内容如下（目前在用的版本）：

```scss
---
---

/* 先加载 minima 主题的默认样式 */
@import "minima";

/* ====== 全局基础样式 ====== */

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
               "PingFang SC", "Hiragino Sans GB",
               "Microsoft YaHei", "Noto Sans SC", sans-serif;
  background-color: #f3f4f6;
  color: #111827;
  line-height: 1.7;
}

/* 链接色统一一下 */
a {
  color: #2563eb;
  text-decoration: none;
}

a:hover {
  color: #1d4ed8;
  text-decoration: underline;
}

/* ====== 顶部导航条 ====== */

.site-header {
  position: sticky;
  top: 0;
  z-index: 20;
  background: #ffffffcc;
  backdrop-filter: blur(12px);
  border-bottom: 1px solid #e5e7eb;
  box-shadow: 0 4px 18px rgba(15, 23, 42, 0.06);
}

/* 用一个内部容器控制宽度 */
.header-inner {
  max-width: 1120px;
  margin: 0 auto;
  padding: 12px 18px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

/* 兼容 minima 默认 .wrapper */
.site-header .wrapper {
  max-width: 1120px;
}

/* 标题 */
.site-title {
  font-weight: 700;
  font-size: 22px;
  letter-spacing: 0.5px;
}

/* 顶部右侧链接（若使用 .top-nav） */
.top-nav a {
  margin-left: 14px;
  font-weight: 600;
  padding: 6px 10px;
  border-radius: 999px;
}

.top-nav a:hover {
  background: #e5edff;
  text-decoration: none;
}

/* ====== 主体布局：侧边栏 + 正文 ====== */

.site-shell {
  width: 100%;
  max-width: 1120px;
  margin: 0 auto 40px;
  padding: 28px 18px 40px 18px;
  display: grid;
  grid-template-columns: 260px minmax(0, 1fr);
  gap: 32px;
  align-items: flex-start;
  justify-content: flex-start;   /* 网格靠容器左边 */
}

/* 大屏幕时整体稍微向左挪一点，让侧边栏更靠页面左边 */
@media (min-width: 1280px) {
  .site-shell {
    margin-left: 60px;
    margin-right: auto;
  }
}

/* minima 默认的 .wrapper 稍微收窄一点 */
.page-content .wrapper {
  max-width: 1120px;
}

/* 主内容区：右侧这一列内部再居中放文章卡片 */
.site-main {
  display: flex;
  justify-content: center;       /* 正文在右侧这一列居中 */
}

.site-main .content-wrapper {
  max-width: 780px;
  width: 100%;
  margin: 0 auto;
}

/* ====== 侧边栏样式 ====== */

.site-sidebar {
  position: sticky;
  top: 76px;
  height: fit-content;
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  background: linear-gradient(145deg, #f9fafb, #f3f4f6);
  padding: 16px 14px 10px 14px;
  box-shadow: 0 12px 30px rgba(15, 23, 42, 0.06);
}

.sidebar-title {
  font-size: 11px;
  color: #6b7280;
  margin: 6px 0 4px 2px;
  letter-spacing: 0.6px;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 14px;
}

.sidebar-link {
  display: block;
  padding: 8px 10px;
  margin: 2px 0;
  border-radius: 9px;
  font-weight: 600;
  font-size: 14px;
  color: #111827;
  transition: background 0.12s ease, transform 0.08s ease;
}

.sidebar-link:hover {
  background: #ffffff;
  text-decoration: none;
  transform: translateY(-1px);
}

/* 当前页高亮，可在 HTML 里给当前链接加 active 类 */
.sidebar-link.active {
  background: #2563eb;
  color: #ffffff;
}

/* ====== 内容区细节：文章列表卡片化 ====== */

/* 首页 / 归档的列表 */
ul.post-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

ul.post-list > li {
  background: #ffffff;
  border-radius: 14px;
  padding: 1.2rem 1.5rem 1.1rem;
  margin-bottom: 1.3rem;
  box-shadow: 0 16px 40px rgba(15, 23, 42, 0.06);
  transition: transform 0.1s ease, box-shadow 0.1s ease;
}

ul.post-list > li:hover {
  transform: translateY(-2px);
  box-shadow: 0 20px 50px rgba(15, 23, 42, 0.08);
}

ul.post-list > li .post-meta {
  font-size: 0.82rem;
  color: #6b7280;
  margin-bottom: 0.35rem;
}

ul.post-list > li .post-link {
  font-size: 1.05rem;
}

/* 单篇文章正文卡片 */
.post, .page {
  background: #ffffff;
  border-radius: 14px;
  padding: 1.6rem 1.8rem 2rem;
  box-shadow: 0 16px 40px rgba(15, 23, 42, 0.06);
}

/* 标题间距更舒适一点 */
.post-title, .page-title {
  margin-top: 0.2rem;
  margin-bottom: 0.8rem;
}

/* ====== 页脚 ====== */

.site-footer {
  margin-top: 24px;
  border-top: 1px solid #e5e7eb;
  color: #6b7280;
  font-size: 12px;
  padding: 16px 0 30px 0;
}

.site-footer .wrapper {
  max-width: 1120px;
}

/* ====== links 页面：按钮风格链接 ====== */

.link-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin: 8px 0 20px 0;
}

.link-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 16px;
  border-radius: 999px;
  border: 1px solid #d1d5db;
  background: #ffffff;
  font-size: 14px;
  font-weight: 500;
  color: #111827;
  box-shadow: 0 6px 16px rgba(15, 23, 42, 0.06);
  cursor: pointer;
  white-space: nowrap;
  min-width: 140px;
  transition:
    background 0.1s ease,
    color 0.1s ease,
    border-color 0.1s ease,
    box-shadow 0.1s ease,
    transform 0.08s ease;
}

.link-button:hover {
  background: #2563eb;
  color: #ffffff;
  border-color: #2563eb;
  text-decoration: none;
  transform: translateY(-1px);
  box-shadow: 0 12px 30px rgba(37, 99, 235, 0.45);
}

/* 小屏幕上按钮一行一个，更好点按 */
@media (max-width: 640px) {
  .link-grid {
    flex-direction: column;
  }
  .link-button {
    justify-content: flex-start;
    width: 100%;
  }
}

/* ====== 移动端：整体单栏布局 ====== */

@media (max-width: 900px) {
  .site-shell {
    grid-template-columns: 1fr;
    padding-top: 18px;
    margin-left: auto;
    margin-right: auto;
  }

  .site-sidebar {
    position: static;
    order: -1;
    margin-bottom: 4px;
  }

  .top-nav {
    display: none; /* 手机上使用侧边栏即可 */
  }

  .post, .page {
    border-radius: 10px;
    padding: 1.2rem 1.2rem 1.5rem;
  }

  ul.post-list > li {
    border-radius: 10px;
  }
}
```

布局上我在默认 `default.html` 里，把内容区域包了一层：

```html
<main class="page-content" aria-label="Content">
  <div class="wrapper">
    <div class="site-shell">
      <aside class="site-sidebar">
        {% include sidebar.html %}
      </aside>
      <div class="site-main">
        <div class="content-wrapper">
          {{ content }}
        </div>
      </div>
    </div>
  </div>
</main>
```

侧边栏的 HTML 放在 `_includes/sidebar.html` 里，里面就是几组链接而已。

---

## 3. 网址库页面：links.md

然后就是这次改动里比较显眼的一页：**按钮风格的「网站库」**。

根目录新建 `links.md`（或者用 GitHub 的 Add file），内容如下：

```markdown
---
layout: page
title: 网站库
permalink: /links/
---

## 学习

<div class="link-grid">
  <a class="link-button" href="https://scholar.google.com" target="_blank">Google Scholar</a>
  <a class="link-button" href="https://www.zotero.org" target="_blank">Zotero</a>
</div>

## 科研 / 工具

<div class="link-grid">
  <a class="link-button" href="https://github.com" target="_blank">GitHub</a>
  <a class="link-button" href="https://www.overleaf.com" target="_blank">Overleaf</a>
</div>

## 娱乐

<div class="link-grid">
  <a class="link-button" href="https://www.bilibili.com" target="_blank">哔哩哔哩</a>
</div>
```

注意几点：

* 开头的三条 front-matter：`layout / title / permalink` 很重要；
* `permalink: /links/` 对应的就是浏览器访问的 `/links/`；
* 正文部分直接用 HTML 标签 `<div>` + `<a>`，然后配合 `style.scss` 里 `.link-grid` 和 `.link-button` 的样式，就能显示成一排排圆角按钮。

---

## 4. 小坑总结

今天踩到/顺手解决的几个点：

1. **配置和页面混淆**

   * `_config.yml`：站点级别的东西；
   * `*.md`：单个页面，自己有自己的 front-matter。

2. **404 调试办法**
   如果新建了一个页面，但是 `/xxx/` 访问 404：

   * 先看 `links.md` 这类页面的 front-matter 有没有写错；
   * 再去仓库右侧 **Deployments → github-pages** 看构建是否是绿色的 `deployed`。
     如果是红色 `failed`，点进去会看到具体哪一行出错。

3. **CSS 一定要补全大括号**
   之前在 `@media` 里面打断了一个 `.pos`，忘记关 `}`，后面的所有样式都不生效了。
   这种时候浏览器按 F12 看一下 Console，会提示哪一行 CSS 解析失败，很快能定位。

---

现在整体效果：

* 顶部是透明模糊的导航条；
* 左侧是固定的圆角侧边导航卡片；
* 右侧文章和页面都是白色卡片、有阴影；
* `/links/` 页面用按钮形式整理常用网站。

后面有空再折腾一下文章页的代码高亮、数学公式、以及自动生成的归档页，就可以当一个轻量级的学习/科研博客来用了。
